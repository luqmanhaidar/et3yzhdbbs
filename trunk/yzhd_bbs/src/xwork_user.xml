<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.1.1//EN" "http://www.opensymphony.com/xwork/xwork-1.1.1.dtd">

<xwork>
 
    <package name="user.default" extends="default" namespace="/">
    
		<!-- /++++++++++ User +++++++++ -->
		<action name="login"
				class="com.ntsky.bbs.web.webwork.action.user.LoginAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/loginSuccess.ftl</result>
			<result name="reLocation">/common/reLocation.ftl</result>
			<result name="login" >/login.ftl</result>
			<result name="input" >/login.ftl</result>
		</action>
		<action name="logout"
				class="com.ntsky.bbs.web.webwork.action.user.LogoutAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/logoutSuccess.ftl</result>
		</action>				
		<action name="signup-page"
				class="com.ntsky.bbs.web.webwork.action.user.SignupAction" method="open">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/signup.ftl</result>
			<result name="agreement">/agreement.ftl</result>
		</action>	
		<action name="signup"
				class="com.ntsky.bbs.web.webwork.action.user.SignupAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="defaultStack"/>
			<interceptor-ref name="basicStack"/>
			<result name="input">/signup.ftl</result>
			<result name="success" type="redirect">/index.action</result>
		</action>		
		<action name="hidden-checkUser"
				class="com.ntsky.bbs.web.webwork.action.user.SignupAction" method="checkUser">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="defaultStack"/>
			<result name="success">/common/hidden.ftl</result>
		</action>		
		<action name="recoverPassword-page"
				class="com.opensymphony.xwork.ActionSupport">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="basicStack"/>	
			<result name="success">/recoverPassword.ftl</result>
		</action>			
		<action name="recoverPassword-checkUsername"
				class="com.ntsky.bbs.web.webwork.action.user.RecoverPasswordAction" method="checkUsername">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/recoverPassword2.ftl</result>
			<result name="input">/recoverPassword.ftl</result>
		</action>		
		<action name="recoverPassword"
				class="com.ntsky.bbs.web.webwork.action.user.RecoverPasswordAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="basicStack"/>
			<result name="success" type="redirect">/login.action</result>
			<result name="input">/recoverPassword2.ftl</result>
		</action>	
		<action name="user"
				class="com.ntsky.bbs.web.webwork.action.user.ViewUserAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/user.ftl</result>
		</action>
		<action name="myGift-page"
				class="com.ntsky.bbs.web.webwork.action.user.ViewUserAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/mygift.ftl</result>
		</action>	
		<action name="editPassword-page"
				class="com.ntsky.bbs.web.webwork.action.user.EditUserPasswordAction" method="default">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="userSession"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/editPassword.ftl</result>
		</action>
		<action name="editUser-page"
				class="com.ntsky.bbs.web.webwork.action.user.EditUserAction" method="edit">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="userSession"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/editUser_head.ftl</result>
		</action>
		<action name="editUser-head"
				class="com.ntsky.bbs.web.webwork.action.user.EditUserAction" method="edit">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="userSession"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/editUser_head.ftl</result>
		</action>		
		<action name="editUser-alias"
				class="com.ntsky.bbs.web.webwork.action.user.EditUserAction" method="edit">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="userSession"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/editUser_alias.ftl</result>
		</action>
		<action name="editUser-info"
				class="com.ntsky.bbs.web.webwork.action.user.EditUserAction" method="edit">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="userSession"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/editUser_info.ftl</result>
		</action>
		<action name="editUser"
				class="com.ntsky.bbs.web.webwork.action.user.EditUserAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="userSession"/>	
			<interceptor-ref name="defaultStack"/>
			<result name="success">/editUser_alias.ftl</result>
		</action>							
		<action name="editPassword"
				class="com.ntsky.bbs.web.webwork.action.user.EditUserPasswordAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="userSession"/>
			<interceptor-ref name="basicStack"/>
			<result name="input">/editPassword.ftl</result>
			<result name="success">/editPassword.ftl</result>
		</action>		
		<action name="popup-face"
				class="com.ntsky.bbs.web.webwork.action.user.ViewUserFaceAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="basicStack"/>
			<result name="success">/face.ftl</result>
		</action>		
		<action name="users"
				class="com.ntsky.bbs.web.webwork.action.user.UserListAction">
			<interceptor-ref name="commonStack"/>
			<interceptor-ref name="defaultStack"/>
			<result name="success">/users.ftl</result>
		</action>						
		<!-- /++++++++++ User +++++++++ -->
		
	</package>
	
	<package name="user.admin" extends="admin" namespace="/admin">
		
		<!-- /++++++++++ User +++++++++ -->
		<action name="createUser-page" class="com.ntsky.bbs.web.webwork.action.user.CreateUserAction" method="default">
			<interceptor-ref name="adminBasicStack"/>
			<result name="success">/admin/createUser.ftl</result>
		</action>
		<action name="createUser" class="com.ntsky.bbs.web.webwork.action.user.CreateUserAction">
			<interceptor-ref name="adminDefaultStack"/>
			<result name="success">/admin/success.ftl</result>
			<result name="input">/admin/warn.ftl</result>
		</action>
		<action name="users" class="com.ntsky.bbs.web.webwork.action.user.UsersAction">
			<interceptor-ref name="adminBasicStack"/>
			<result name="success">/admin/users.ftl</result>
		</action>
		<action name="userManage" class="com.ntsky.bbs.web.webwork.action.user.UserManageAction">
			<interceptor-ref name="adminBasicStack"/>
			<result name="manage" type="redirect">/admin/users.action?start=${start}</result>
			<result name="setRole">/admin/setRole.ftl</result>
			<result name="updateRole">/admin/setRole.ftl</result>
		</action>		
		<action name="deleteUser" class="com.ntsky.bbs.web.webwork.action.user.DeleteUserAction">
			<interceptor-ref name="adminBasicStack"/>
			<result name="success" type="redirect">/admin/users.action?start=${start}}</result>
		</action>	
		<!-- ++++++++++ User +++++++++/ -->
		
	</package>
	
</xwork>
